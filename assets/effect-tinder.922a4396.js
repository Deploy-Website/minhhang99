function e({swiper:e,on:t}){let s,r,i,n,a,o,d;const c=()=>e.virtual&&e.params.virtual.enabled,l=()=>c()?e.slides.find((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e.activeIndex)):e.slides[e.activeIndex];e.tinder={no(){e.touches.currentX=0,e.touches.startX=e.size/2;const t=l();t.translateY=0,t.style.transformOrigin="center bottom",t.transformOrigin="bottom",e.slideNext(),e.animating=!1},yes(){e.touches.currentX=e.size,e.touches.startX=e.size/2;const t=l();t.translateY=0,t.style.transformOrigin="center bottom",t.transformOrigin="bottom",e.slideNext(),e.animating=!1}};const u=(e,t)=>{e&&t(e)},p=(t,s)=>{e.slides.forEach(((r,i)=>{(c()?parseInt(r.getAttribute("data-swiper-slide-index"),10):i)<e.activeIndex||(r.style.transformOrigin=t,r.transformOrigin=s)}))},m=(t,s,r,n,a)=>{if(i||a)if(n)u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.add("swiper-tinder-button-hidden"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.add("swiper-tinder-button-hidden")));else{const i=Math.max(Math.min(10*s-.5,1),0);u(t.querySelector(".swiper-tinder-label-yes"),(e=>e.style.opacity=r>0?i:0)),u(t.querySelector(".swiper-tinder-label-no"),(e=>e.style.opacity=r<0?i:0)),u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.remove("swiper-tinder-button-hidden"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.remove("swiper-tinder-button-hidden"))),s>=e.params.longSwipesRatio&&!n?r>0?(u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.add("swiper-tinder-button-active"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.remove("swiper-tinder-button-active")))):(u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.remove("swiper-tinder-button-active"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.add("swiper-tinder-button-active")))):(u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.remove("swiper-tinder-button-active"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.remove("swiper-tinder-button-active"))))}};t("beforeInit",(()=>{if("tinder"!==e.params.effect)return;e.classNames.push(`${e.params.containerModifierClass}tinder`),e.classNames.push(`${e.params.containerModifierClass}3d`);const t={watchSlidesProgress:!0,virtualTranslate:!0,longSwipesRatio:.1,oneWayMovement:!0};Object.assign(e.params,t),Object.assign(e.originalParams,t)})),t("init",(()=>{e.el&&e.el.addEventListener&&e.el.addEventListener("click",(t=>{t.target.closest(".swiper-tinder-button-yes")&&e.tinder.yes(),t.target.closest(".swiper-tinder-button-no")&&e.tinder.no()}))})),t("touchStart",((t,d)=>{if("tinder"!==e.params.effect)return;i=!0,a=!0,o=!0;const{clientY:c}=d,{top:l,height:u}=e.el.getBoundingClientRect();r=!1;const m=d.target.closest(".swiper-slide, swiper-slide");m&&m.classList.contains("swiper-slide-active")&&(s=m,n=e.activeIndex,c-l>u/2?p("center top","top"):p("center bottom","bottom"))})),t("touchMove",(t=>{if("tinder"!==e.params.effect)return;const i=t.touches.currentY-t.touches.startY,n=t.touches.currentX-t.touches.startX;r=(Math.abs(n),e.size,!1),s&&(s.translateY=i)})),t("touchEnd",(()=>{"tinder"===e.params.effect&&(r=!1,a=!1,s&&(Math.abs(s.progress)<.1||l()===s)&&delete s.translateY,requestAnimationFrame((()=>{i=!1})))})),t("setTransition",((t,s)=>{"tinder"===e.params.effect&&(t.slides.forEach((e=>{e.style.transitionDuration=`${s}ms`,e.querySelectorAll(".swiper-tinder-label").forEach((t=>{t.style.transitionDuration=`${s}ms`,e.progress<=0&&(t.style.opacity=0)}))})),requestAnimationFrame((()=>{u(document.querySelector(".swiper-tinder-button-yes"),(e=>e.classList.remove("swiper-tinder-button-active"))),u(document.querySelector(".swiper-tinder-button-no"),(e=>e.classList.remove("swiper-tinder-button-active")))})))})),t("slidesGridLengthChange",(()=>{const t=c()?e.virtual.slides.length:e.slides.length,s=e.activeIndex===t-1&&!e.params.loop,r=e.slides[e.activeIndex],i=r.progress,n=Math.min(Math.max(i,-2),2),a=e.touches.currentX-e.touches.startX;m(r,n,a,s,!0)})),t("slideChange",(()=>{const t=c()?e.virtual.slides.length:e.slides.length;if(e.activeIndex===t-1&&!e.params.loop){const t=e.slides[e.slides.length-1],s=t.progress,r=Math.min(Math.max(s,-2),2),i=e.touches.currentX-e.touches.startX;m(t,r,i,!0,!0)}a||(o=!1,e.emit("tinderSwipe",d<0?"left":"right"))})),t("transitionStart",(()=>{o&&e.activeIndex!==n&&(o=!1,e.emit("tinderSwipe",d<0?"left":"right"))})),t("setTranslate",((t,s)=>{if("tinder"!==e.params.effect)return;if(r)return;if(a&&void 0!==n&&void 0!==e.snapGrid[n+1]){const t=Math.abs(e.snapGrid[n]),r=Math.abs(t+e.size)-8;if(Math.abs(s)>r)return void e.setTranslate(-r)}const o=e.touches.currentX-e.touches.startX;d=o;const{slides:l}=e,u=c()?e.virtual.slides.length:l.length,p=e.activeIndex===u-1&&!e.params.loop;l.forEach(((t,s)=>{const r=t.progress,n=Math.min(Math.max(r,-2),2);let a=-t.swiperSlideOffset,d=0,c=100*n,l=0,h=1;(n>0||0===n&&i)&&(c=0,l=45*n*(o<0?-1:1),a=e.size*(o<0?-1:1)*n+a,void 0!==t.translateY&&(d=t.translateY),m(t,n,o,p)),"top"===t.transformOrigin&&(l=-l),n>1&&(h=5*(1.2-n));const f=`\n        translate3d(${a}px, ${d}px, ${c}px)\n        rotateZ(${l}deg)\n      `;n>=1&&!t.tinderTransform&&(t.tinderTransform=f,t.tinderTransformSlideIndex=s),(t.tinderTransform&&t.tinderTransformSlideIndex!==s||!i)&&(t.tinderTransform=""),t.style.zIndex=-Math.abs(Math.round(r))+u,t.style.transform=t.tinderTransform||f,t.style.opacity=h}))}))}export{e as E};
